<!DOCTYPE html>
<html lang="en">
    
  <head>
    <meta charset=utf-8 />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Mobile viewing enhancement -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <!-- Description should be roughly 155 characters, no double quotes, use keywords -->
    <meta name="description" content="Livetutor and Firebase" />
    <!-- Format as Primary Keyword - Secondary Keyword | Brand Name, keep under 55 characters -->
    <title>Livetutor SJSU</title>
    <!-- Minimize the number of CSS files for performance -->
    <!-- <link rel="shortcut icon" href="Picture1.png"> -->
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,700,100,300,700italic,500,500italic,400italic,300italic,100italic|Roboto+Condensed:300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.orange-amber.min.css" />

    <!-- Link the CSS files-->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="css/bootstrap.css">
    <!-- <link rel="stylesheet" href="css/custom.css"> -->
    <!-- Optional theme -->
    <link rel="stylesheet" href="css/bootstrap-theme.min.css"/>  

    <!-- LiveTutor CSS -->
    <link href="css/Style.css" rel="stylesheet" type="text/css" />
	
	<style>
      #inner-body {
		padding-top:60px;
		text-align:left;
		background:#333333;
      }
	  
	  #inner-body-info {
		text-align:left;
		background:#333333;
      }
	  
	  #board-info-box{
		margin-left:16%;
		text-align:left;
		background:white;
		height:700px;
		overflow:scroll;
		overflow-x: hidden;
	  }
	  
	  #board-info-box2{
		text-align:left;
		background:white;
		height:700px;
	  }
	  
	  #board-container{
		background:white;
		margin-left:16%;
	  }
	  
	  #viewer-count{
		float:left;
		padding-top:10px;
		font-size: 20px;
	  }
	  
	  #myCanvas{
		margin-left:16%;
		margin-bottom:50px;
		background: #000000;
		border-bottom: 4px solid grey;
		cursor:crosshair;
	  }
	  
	  #canvas-head{
		margin-left:14%;
		height:65px;
	  }
	  
	  #chatdiv {
		box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
		padding-top:60px
		margin: 20px auto;
		background: white;
		float:right;
		position:fixed;
		height:100%;
		top:0px;
		right:0px;
		bottom:0px;

	  }
	  
	  #chat{
		padding-top:70px;
		height: 85%;
		overflow:scroll;
		overflow-x: hidden;
	  }
	  
	  #userList{
		list-style-type:none;
		height:80%;
		margin-top:30px;
		padding-left:20px;
		overflow:scroll;
		overflow-x: hidden;
		border-left: 1px solid grey;
		text-align:left;
		font-size:16px;
	  }
	  
	  #toolbar {
		border: 4px solid #444444;
		box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
		padding-top:60px
		margin: 20px auto;
		background: #555555;
		top:60px;
		float:left;
		position:fixed;
		height:100%;
		opacity: 1;
		
	  }
	  
    </style>

  </head>
<body>
	<div class="container-fluid">
		<!--Start of NavBar-->
		<nav class="navbar navbar-default navbar-fixed-top">
			<div class="container-fluid">
				<div class="navbar-header">
					<!-- Search Bar -->
					<!--Toggles navbar when displayed on smaller screen-->
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expended="false">
						<!--To hode info from screen readers-->
						<span class="sr-only"></span>
						<!--3 bars drawn inside of the expand button-->
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<!-- Logo -->
					<div class="nav-bar-logo"
							<a class="pull-left" href="index.html"><img src="img/Logo.png"></a>
							</div>
						</div>
						<!--Toggles navbar when displayed on smaller screen-->
						<!--Start Collapse Menu-->
						<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
							<ul class="nav navbar-nav navbar-right" id="navbar">
								<!-- SearchBar -->
								<li>  
									<form class="navbar-form" role="search">
										<div class="input-group">
											<input type="text" class="form-control" placeholder="Search" name="srch-term" id="srch-term">
												<div class="input-group-btn">
													<button onclick="searchnavbar();" class="btn btn-default" type="button"><span class="glyphicon glyphicon-search"></span></button>
												</div>
											</div>
										</form>
									</li>
									<!-- End SearchBar>
				  
				   <!-- My Schedule-->
									<li class="dropdown" id="navmyschedule">
										<a href="#myscheduleModal" class="dropdown-toggle" data-toggle="modal"> My Schedule </a>
									</li>
									<!-- End of Forum -->

									<!-- Forum-->
									<li class="dropdown" id="navforum">
										<a href="#" class="dropdown-toggle" data-toggle="modal"> Q and A's </a>
									</li>
									<!-- End of Forum -->

									<!-- Login-->
									<li class="dropdown" id="navlogin">
										<a href="#loginModal" class="dropdown-toggle" data-toggle="modal"> Login </a>
									</li>
									<!-- End of Login -->

									<!-- Register-->
									<li class="dropdown" id="navregister">
										<a href="#registerModal" class="dropdown-toggle" data-toggle="modal"> Register </a>
									</li>
									<!-- End of Register-->

									<!-- Username display-->
									<li class="dropdown">
										<a href="profile.html" id ="usernamedisplay" data-send-to-profile="123456" class="dropdown-toggle"> Username </a>
									</li>
									<!-- End of username display -->

									<!-- Logout-->
									<li class="dropdown" id="navlogout">
										<a href="#logoutModal" onclick="Logout();return false;" class="dropdown-toggle"> Logout </a>
									</li>
									<!-- End of Logout -->

								</ul>
							</div> <!-- Collapsed Menu -->
						</div> <!--End of container-fluid-->
					</nav> <!-- End of NavBar-->
      </div>    

	<!--Whitebgoard 2.0-->
	<div class="row">

		<div id="inner-body" class="col-xs-9 col-sm-9 col-md-9">
			
			<div id="canvas-head" class="col-xs-10 col-sm-10 col-md-10">
			<font color="white">
				
				<button id="onlinebutton" type="button" style="width:130px; float:right; margin-top:16px" class="btn btn-default disabled">OFFLINE</button>
				<h4 id="golive" style="float:right; margin-top:25px; margin-right:10px"></h4>
				<h4 id="subjecttag"></h4>
				<a href="#" ><h5 id="tutortag" >:</h5></a> 

				</font>
			</div>
			<canvas id="myCanvas" width="900" height="600"></canvas>
		</div>
	</div>
	
	<!-- Under Whiteboard Stuff-->
	<div class="row">
		<div id="inner-body-info" class="col-xs-9 col-sm-9 col-md-9">
			<div id="board-info-box" class="col-xs-6 col-sm-6 col-md-6">
				<font color="grey">
					<div class="row">
					<div style="border-bottom:2px solid grey;" class="col-xs-12 col-sm-12 col-md-12">

						<button type="submit" id="recommendbutton" class="btn btn-danger" value="Disconnect" style="margin-top:10px; margin-bottom:10px; float:right; height:30px">Recommend Tutor!</button>
						<span id="viewer-count" class="glyphicon glyphicon-eye-open"> </span>
						<h4 id="viewcount"></h4> 
						
					</div>
						
					</div>
					
					<div class="col-xs-12 col-sm-12 col-md-12">
						<p></p>
						<p> Class Description:</p> 
						<p id="desc"></h4> 
						<p> Tutor About Me:</p> 
						<p id="aboutme"></h4> 
					
					</div>
					
				</font>
				
			</div>
			
			<div id="board-info-box2" class="col-xs-3 col-sm-3 col-md-3">
				<h4>User List</h4>
				<div id="userList"></div>
			</div>
			
		</div>
	</div>
	<!-- Toolbar 2.0-->
	<div id="toolbar" class="col-xs-1 col-sm-1 col-md-1">
		<font color="white">
			<h5 style="margin-top:10px">Toolbar:</h5>
			<h5 style="margin-top:10px">Line Color:</h5>
		<select id="selectColor" class="form-control">
			<option value="white">White</option>
			<option value="black">Black</option>
			<option value="red">Red</option>
			<option value="blue">Blue</option>
			<option value="green">Green</option>
		</select>
		
			<h5 style="margin-top:10px">Line Thickness:</h5>
		<select id="selectThick" class="form-control" style="margin-top:10px;">
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5</option>
			<option value="20">10</option>
			<option value="40">20</option>
			<option value="60">30</option>
			<option value="100">50</option>
			<option value="200">100</option>
		</select>
		
		<!--Clear button-->
		<input type="submit" id="clear" class="btn btn-info btn-block" value="Clear" style="margin-top:20px;"/>
		</font>
		
	</div>

			
	<div id="chatdiv" class="col-xs-3 col-sm-3 col-md-3">
				<div id="chat" class="col-xs-12 col-sm-12 col-md-12"></div>

				<input type="text" id="chatOut" class="form-control" placeholder="Chat..."/>	
				
				<div style="margin-top:10px;">
					<a style="padding:5px;">
						<span id="thumb-glyphicon" class="glyphicon glyphicon-thumbs-up"></span>
					</a>
					
					<button type="submit" style="float:right;"  id="chatSend" value="Disconnect"  class="btn btn-info">
								SEND 
					</button>
				
					
				</div>


	</div> 

	<!-- Modal -->
	<div id="editClassModal" class="modal fade" role="dialog">
		<div class="modal-dialog">

	<!-- Modal content-->
			<div class="modal-content">

				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h3 id="title-class-edit" class="modal-title">Edit Class</h3>
				</div>
				<div class="modal-body">
					<form role="form">
						<h5>Subject:</h5>
						<div class="row">
							<div class="form-group col-sm-6">
								<input type="text" name="subject" id="subject" class="form-control input-sm" placeholder="Class Subject...">
								</div>
							</div>
							<h5>Days Available:</h5>
							<div class="row">
								<div class="form-group col-sm-6">
									<input type="text" name="day" id="day" class="form-control input-sm" placeholder="Days Available...">
									</div>
								</div>
								<h5>Time:</h5>
								<div class="row">
									<div class="form-group col-sm-6">
										<input type="text" name="time" id="time" class="form-control input-sm" placeholder="Time Available...">
										</div>
									</div>
									<h5>Class Description:</h5>
								<div class="row">
										<div class="form-group col-sm-6">
											<input type="text" name="descr" id="descr" class="form-control input-sm" placeholder="Class Description...">
										</div>
								</div>

								<div class="row">
								<div class="col-xs-6 col-sm-6 col-md-6">
										<div class="form-group">
											<a id="submitbutton" href="#myscheduleModal" class="btn btn-info btn-block" onclick="newclass();" data-toggle="modal" data-dismiss="modal">SUBMIT</a>
										</div>
								</div>

								<div class="col-xs-6 col-sm-6 col-md-6">
										<div class="form-group">
											<a id="deletebutton" href="#" class="btn btn-info btn-block" onclick="deleteClass();" data-toggle="modal" data-dismiss="modal">DELETE</a>
										</div>
								</div>
							</div>

						</form>
					</div>
			<!--Footer if needed-->
			<!-- <div class="modal-footer"></div> -->
			</div>

		</div>
	</div>
					<!-- Modal -->

					<!-- Modal -->
					<div id="myscheduleModal" class="modal fade" role="dialog">
						<div class="modal-dialog">

							<!-- Modal content-->
							<div class="modal-content">

								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal">&times;</button>
									<h3 class="modal-title">My Schedule</h3>
								</div>

								<div class="modal-body">
									<form role="form">
										<h4 class="modal-title">These are the classes you Tutor:</h4>
										<h4> </h4>

										<table id="myschedule-table" class="table table-bordered" >
											<thead>
												<tr>
													<th>Subject</th>
													<th>Day</th>
													<th>Time</th>
													<th>Description</th>
													<th>Join</th>
													<th>Edit</th>
												</tr>
											</thead>
											<tbody id="myschedule-tablebody">

											</tbody>
										</table>

										<h4> </h4>
										<div class="row">
											<div class="col-xs-6 col-sm-6 col-md-6">
												<div class="form-group">
													<a id="addclass" href="#editClassModal" class="btn btn-info btn-block" onclick="addclassLayout();" data-toggle="modal" data-dismiss="modal">Add Class</a>
												</div>
											</div>
										</div>
									</form>
								</div>
								<!--Footer if needed-->
								<!-- <div class="modal-footer">
                    </div> -->
							</div>

						</div>
					</div>
					<!-- Modal -->

					<!-- Modal -->
					<div id="loginModal" class="modal fade" role="dialog">
						<div class="modal-dialog">

							<!-- Modal content-->
							<div class="modal-content">

								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal">&times;</button>
									<h3 class="modal-title">Login</h3>
								</div>
								<div class="modal-body">
									<form role="form">
										<div class="row">
											<div class="form-group col-sm-6">
												<input type="email" name="email" id="email" class="form-control input-sm" placeholder="Email Address" data-bind="email">
												</div>
											</div>

											<div class="row">
												<div class="form-group col-sm-6">
													<input type="password" name="password" id="login-password" class="form-control input-sm" placeholder="Password" data-bind="password">
													</div>
												</div> 
												<a id="login-button" value="Register" class="btn btn-info btn-block">Login</a>
												<a href="#registerModal" class="dropdown-toggle" data-toggle="modal" data-dismiss="modal"><small>Register</small></a>

											</form>
										</div>
										<!--Footer if needed-->
										<!-- <div class="modal-footer">
                    </div> -->
									</div>

								</div>
							</div>
							<!-- Modal -->
							<div id="registerModal" class="modal fade" role="dialog">
								<div class="modal-dialog">

									<!-- Modal content-->
									<div class="modal-content">

										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal">&times;</button>
											<h3 class="modal-title">Register</h3>
										</div>
										<div class="modal-body">
											<form role="form">
												<div class="row">
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-group">
															<input type="text" name="first_name" id="first_name" class="form-control input-sm" placeholder="First Name">
															</div>
														</div>
														<div class="col-xs-6 col-sm-6 col-md-6">
															<div class="form-group">
																<input type="text" name="last_name" id="last_name" class="form-control input-sm" placeholder="Last Name">
																</div>
															</div>
														</div>

														<div class="form-group">
															<input type="email" name="email" id="register_email" class="form-control input-sm" placeholder="Email Address" data-bind="email">
															</div>

															<div class="row">
																<div class="col-xs-6 col-sm-6 col-md-6">
																	<div class="form-group">
																		<input type="password" name="password" id="register_password" class="form-control input-sm" placeholder="Password" data-bind="password">
																		</div>
																	</div>
																	<div class="col-xs-6 col-sm-6 col-md-6">
																		<div class="form-group">
																			<input type="password" name="password_confirmation" id="password_confirmation" class="form-control input-sm" placeholder="Confirm Password">
																			</div>
																		</div>
																	</div>
																	<a type="submit" id="confirm-button" value="Register" class="btn btn-info btn-block">Register</a>
																	<a href="#loginModal" class="dropdown-toggle" data-toggle="modal" data-dismiss="modal"><small>Have an account?</small></a>
																</form>
															</div>
															<!--Footer if needed-->
															<!-- <div class="modal-footer">
                    </div> -->
														</div>

													</div>
												</div>
	

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script>
	
		<!-- Initialize Firebase -->
    <script src="https://www.gstatic.com/firebasejs/3.6.1/firebase.js"></script>
	
	<script src = "js/studyboard.js"></script>
	<script src = "js/firebaseStudyBoard.js"></script>
	
	<script>
	      // Initialize Firebase
	var userId = "";
	var username = "";
		
    var config = {
		apiKey: "AIzaSyCBHKzuKatLk4GZjorFHbPfutXgdDwDBjM",
		authDomain: "livetutorfinal.firebaseapp.com",
		databaseURL: "https://livetutorfinal.firebaseio.com",
		storageBucket: "livetutorfinal.appspot.com",
		messagingSenderId: "968804506441"
		};
		firebase.initializeApp(config);
 
		firebase.auth().onAuthStateChanged(function(user) {
  			if (user) {
				userId = user.uid;
				username = user.displayName;
				LoginSetup();
				
				//Run StudyboardScripts/////
				qs();
				resizeCanvas();
				window.addEventListener('resize', resizeCanvas, false);
				////////////////////////////
			} else {
			// No user is signed in.
			
				//Run StudyboardScripts/////
				qs();
				resizeCanvas();
				window.addEventListener('resize', resizeCanvas, false);
				////////////////////////////
			}
		});
	</script>
    <script src = "js/main.js"></script>
	
	

    

 </body>

</html>